## 자율적인 책임

- 객체지향 공동체를 구성하는 기본 단위는 **자율적**인 객체
- 책임: 다른 객체로부터 수신 받은 요청을 처리하기 위해 객체가 수행하는 행동

⇒ 자율적인 객체는 스스로의 의지와 판단에 따라 각자 맡은 책임을 수행한다.

⇒ 객체에게 할당되는 책임이 자율적이어야 함

> 왕이 모자 장수에게 "증언하라"는 요청을 보냈다.
모자 장수는 1. 기억된 내용을 토대로 2. 기록된 내용을 토대로 3. 말이 아닌 문서로 증언을 할 수 있다.
여기서 왕은 모자 장수가 어떻게 증언을 하는지는 중요하지 않다
왕은 단지 모자 장수가 증언하기를 바랄 뿐

> 왕이 모자 장수에게 "목격했던 장면을 떠올려라"라는 요청을 보낸다면
모자 장수는 1번을 이용해서만 요청을 수행할 수 있다.
모자 장수의 자율성을 해치는 요청

**자율적인 책임의 특징은 HOW보다 WHAT에 집중하는 것**

<br>

## 메시지와 메서드

### 메시지

- 다른 객체에 접근하는 방법
- 수신자에 대한 정보를 포함
- 추가적인 정보가 필요한 경우 **인자**를 이용

### 메서드

- 메시지를 처리하기 위해 내부적으로 선택하는 방법
- 실행 시간에 메서드를 선택 ⇒ 객체 지향 프로그래밍의 특징

### 다형성

- 메시지를 수신한 객체가 어떤 방법(메서드)으로 메시지를 처리하는 것은 중요하지 않음
- 메시지 하나와 하나 이상의 메서드의 관계

⇒ **유연하고 확장 가능한 재사용성이 높은 협력**

= 메시지는 보내지만 수신자의 구체적인 타입에 대해서는 알지 못한다, 수신자가 메시지를 이해할 수 있다는 전제하에만 메시지를 전송

1. 협력이 유연해짐
2. 협력이 수행되는 방식 확장 가능: 세부적인 수행 방식을 쉽게 수정
3. 협력이 수행되는 방식을 재사용 가능: 다양한 객체가 수신자의 자리를 대체할 수 있기 때문에 다양한 문맥에서 협력을 재사용할 수 있다

<br>

## 객체지향의 핵심, 메시지

객체지향 어플리케이션은 클래스를 이용해 만들어지고, 메시지로 정의된다

⇒ 클래스들은 메시지를 주고 받는 동적인 객체, 시스템은 이러한 클래스들의 집합

### 객체 사이의 협렵관계

- 어떤 객체가 어떤 메시지를 전송하는가?
- 어떤 객체가 어떤 메시지를 이해할 수 있는가?

<br>

## 객체 인터페이스

### 인터페이스

두 사물이 마주치는 경계 지점에서 서로 상호작용할 수 있게 이어주는 방법이나 장치 

1. 인터페이스는 사용법만 알면 내부 동작 방식을 몰라도 사용 가능하다
2. 내부 동작 방식을 수정하는 것은 인터페이스 사용자에게 영향을 미치지 않는다
3. 대상이 변경되더라도 동일한 인터페이스를 제공하면 사용자는 문제 없이 상호작용할 수 있다

⇒ **객체가 수신 가능한 메시지에 따라 인터페이스 모양이 결정된다!**

<br>

## 인터페이스와 구현의 분리

- 추상화: 추상적인 메시지를 전송하여 객체의 자율성을 보장하자
- 최소 인터페이스: 외부에서 사용하는 인터페이스만 노출하자, 내부 동작에 대해 노출하지 않는다 → 내부의 내용이 수정되더라도 외부에 미치는 영향을 최소화할 수 있음
- **인터페이스와 구현에는 차이가 있다 (객체의 외부와 내부를 분리해라)**
    
    → 변경 관리를 위함 (느슨한 인터페이스 간의 연결)
    
    ⇒ 수정, 변화에 대에 영향 받는 객체가 적어지도록 ⇒ 객체의 자율성 보장
    

### 구현

내부 구조와 작동 방식을 가리키는 고유 용어, 객체를 구성하지만 인터페이스에는 포함되지 않는 것

- 상태: 외부에 노출되지 않는 객체의 상태를 가진다
- 행동: 메시지를 처리하는 방법, 이또한 외부에는 노출되지 않는다

### 캡슐화 (정보 은닉)

객체의 자율성을 보존하기 위해 구현을 외부로부터 감추는 것

- 인터페이스와 구현을 분리하기 위한 전제 조건 → 접근할 수 없는 부분은 막기
- 자율적인 객체를 만들기 위한 전제 조건 → 자신의 상태를 자신이 관리
- 공용 인터페이스로 외부 객체와 의사소통한다

<br>


## 책임의 자율성이 협력의 품질을 결정한다

객체의 책임이 자율적일수록 협력이 이해하기 쉬워지고 유연하게 변경할 수 있게된다

1. **자율적인 책임은 협력을 단순하게 만든다 (책임의 추상화)**
    
    > "증언하라"는 메시지는 "목격했던 장면을 떠올리고, 떠오르는 기억을 시간 순서대로 재구성한 후 말로 간결하게 표현해라"라는 메시지보다 의도를 명확하게 표현함으로써 협력을 단순하고 이해하기 쉽게 만든다.
    > 
2. **자율적인 책임은 객체의 외부와 내부를 명확하게 분리한다**
    
    > "증언하라"는 메시지를 처리할 모자 장수는 어떤 방법으로 메시지를 처리할지 자율성을 가진다. 왕은 모자 장수가 어떻게 메시지를 처리할 것인지에 대해 알 수 없다.
    > 
3. **책임이 자율적일 경우 책임을 수행하는 내부적인 방법을 변경하더라도 외부에 영향을 미치지 않는다**
    
    > 모자 장수가 증언의 방법을 "시간 순서대로"에서 "생각나는 순서대로"로 바꿔도 왕은 알지 못한다. 같은 메시지로 요청 가능하다.
    > 
    
    → 책임이 자율적일 수록 변경에 의한 수정 범위가 좁아지고 명확해진다
    
    ⇒ **캡슐화는 객체의 결합도를 낮춘다.**
    
4. **자율적인 책임은 협력의 대상을 다양하게 선택할 수 있는 유연성을 제공한다.**
    
    > "증언하라"는 요청을 수신할 수 있는 객체라면 모장 장수가 아니더라도 요청을 수행할 수 있다. 이는 "증언하라"는 책임 외의 어떤 가정도 포함하지 않기 때문이다.
    > 
5. **객체가 수행하는 책임들이 자율적일수록 객체의 역할을 이해하기 쉬워진다.**
    
    → 책임을 통해 객체의 역할을 이해할 수 있다.
    
    → 객체는 동일한 목적을 달성하는 강하게 연관된 책임으로 구성되기 때문
    
    ⇒ **책임이 자율적일수록 객체의 응집도가 높다**